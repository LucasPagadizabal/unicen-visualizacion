<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <input id="img" type="file" name="imagen" onchange="showImage()" value="">
    <canvas id="canvas" width="900" height="600" style="border:#000 solid 1px;"></canvas>
  </body>
  <script>
  //w3school
    var ctx = document.getElementById("canvas").getContext("2d");

    function showImage() {

      var imageData = ctx.createImageData(900,600);
      for (var x = 0; x < 900; x++) {
        for (var y = 0; y < 600; y++) {
          setPixel(imageData,255,255,255,255);
        }
      }

      console.log(document.getElementById("img").value);
      document.getElementById("img");
      var imagen = new Image();
      imagen.src =document.getElementById("img").value; //document.getElementById("img").value;
      imagen.onload = function () {
        drawImage(this);
      }
    }

    function drawImage(img) {
      ctx.drawImage(img,0,0);
    }
    // var width = 600;
    // var heigth = 800;
    // var imageData = ctx.createImageData(width,heigth);
    //
    // for (var x = 0; x < width; x++) {
    //     for (var y= 0; y < heigth; y++) {
    //     if(x < width/2){
    //         setPixel(imageData,x,y,degradez(x,width),degradez(x,width),0,255);
    //     }else{
    //       setPixel(imageData,x,y,255,255-degradezInv(x,width),0,255);
    //     }
    //   }
    // }
    //
    //
    // function degradez(x,width) {
    //   return Math.floor((x/(width/2))*255);
    // }
    //
    // function degradezInv(x,width) {
    //   return Math.floor(((x-width/2)/(width/2))*255);
    // }
    // ctx.putImageData(imageData,100,100);
      function setPixel(imageData,x,y,r,g,b,a) {

        var index = ( x + y * imageData.width)*4;
        imageData.data[index+0]=r;
        imageData.data[index+1]=g;
        imageData.data[index+2]=b;
        imageData.data[index+3]=a;
      }

  </script>
</html>
