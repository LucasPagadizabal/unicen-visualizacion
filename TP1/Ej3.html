<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <canvas id="canvas" width="900" height="600" style="border:#000 solid 1px;"></canvas>
  </body>
  <script>
  //w3school

    var ctx = document.getElementById("canvas").getContext("2d");
    var width = 400;
    var heigth = 600;
    var imageData = ctx.createImageData(width,heigth);

    for (var x = 0; x < width; x++) {
        for (var y= 0; y < heigth; y++) {
          var valor = degradez(y,heigth);
          setPixel(imageData,x,y,valor,valor,valor,255);
        }
      }

    function degradez(y,heigth) {
      return Math.floor((y/heigth)*255);
    }
    ctx.putImageData(imageData,100,50);
    
      function setPixel(imageData,x,y,r,g,b,a) {

        var index = ( x + y * imageData.width)*4;
        imageData.data[index+0]=r;
        imageData.data[index+1]=g;
        imageData.data[index+2]=b;
        imageData.data[index+3]=a;
      }

  </script>
</html>
